@echo off
if exist "raft.exe" (
    del "raft.exe"
) 

if exist "node" (
    rmdir /s /q "node"
)

go build .\raft.go

start  "node1"  .\raft --http_addr="127.0.0.1:7001" --raft_addr="127.0.0.1:9555" --raft_id=1 --raft_cluster="1/127.0.0.1:9555,2/127.0.0.1:9666,3/127.0.0.1:9777" --http_raft_addr_map="127.0.0.1:7001/127.0.0.1:9555,127.0.0.1:8001/127.0.0.1:9666,127.0.0.1:9001/127.0.0.1:9777"
start  "node2"  .\raft --http_addr="127.0.0.1:8001" --raft_addr="127.0.0.1:9666" --raft_id=2 --raft_cluster="1/127.0.0.1:9555,2/127.0.0.1:9666,3/127.0.0.1:9777" --http_raft_addr_map="127.0.0.1:7001/127.0.0.1:9555,127.0.0.1:8001/127.0.0.1:9666,127.0.0.1:9001/127.0.0.1:9777"
start  "node3"  .\raft --http_addr="127.0.0.1:9001" --raft_addr="127.0.0.1:9777" --raft_id=3 --raft_cluster="1/127.0.0.1:9555,2/127.0.0.1:9666,3/127.0.0.1:9777" --http_raft_addr_map="127.0.0.1:7001/127.0.0.1:9555,127.0.0.1:8001/127.0.0.1:9666,127.0.0.1:9001/127.0.0.1:9777"
